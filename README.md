# 南光图像尺寸插件

一个ComfyUI插件，提供预设尺寸和自定义尺寸调整功能，支持图像和Latent空间。

## 功能特性

### 1. 南光图像尺寸节点
- 支持预设尺寸选择（包含多种常用尺寸）
- 自定义尺寸开关
- 多种裁剪方式：居中裁剪、边缘裁剪、填充、拉伸
- 多种缩放算法
- 支持遮罩输入和输出

### 2. 南光空Latent图像尺寸节点（简化版）
- 生成指定尺寸的空Latent
- 支持预设尺寸和自定义尺寸
- 批量大小设置
- 简化界面，只保留核心功能

## 安装方法

### 方法一：手动安装
1. 将本插件文件夹复制到 `ComfyUI/custom_nodes/` 目录下
2. 重启ComfyUI

### 方法二：使用ComfyUI管理器（如果支持）
1. 在ComfyUI中打开管理器
2. 搜索"南光尺寸"或"Nanguang Dimensions"
3. 点击安装

## 使用方法

### 南光图像尺寸节点
1. 在节点菜单中找到"南光尺寸"类别
2. 拖拽"南光图像尺寸"节点到工作区
3. 连接图像输入
4. 选择预设尺寸或开启自定义尺寸
5. 调整其他参数（裁剪方式、缩放算法等）
6. 连接输出到下一个节点

### 南光空Latent图像尺寸节点
1. 在节点菜单中找到"南光尺寸"类别
2. 拖拽"南光空Latent图像尺寸"节点到工作区
3. 设置尺寸参数（预设或自定义）
4. 设置批量大小
5. 连接输出到VAE或采样器

## 预设尺寸说明

插件包含以下预设尺寸：
- SD1.5/SDXL模型常用尺寸
- FLUX.1模型尺寸
- 电商主图尺寸
- 标准照片尺寸
- 一寸/二寸证件照尺寸
- 移动设备尺寸
- 视频尺寸（HD, 4:3, 超宽等）
- 办公文档尺寸

## 参数说明

### 通用参数
- **预设尺寸**：从预设列表中选择
- **自定义尺寸开关**：开启后可使用自定义宽度和高度
- **批量大小**：生成的批次数量

### 图像尺寸节点特有参数
- **裁剪方式**：
  - 居中裁剪：缩放后从中心裁剪
  - 边缘裁剪：缩放后从左上角裁剪
  - 填充：直接调整到目标尺寸
  - 拉伸：拉伸到目标尺寸
- **缩放算法**：多种图像缩放算法

### Latent节点参数
- 预设尺寸/自定义尺寸
- 批量大小
- 生成指定尺寸的空潜在空间表示

## 示例工作流

在 `example_workflows` 文件夹中提供了示例工作流：
1. `nanguang_image_workflow.json` - 图像尺寸调整工作流
2. `nanguang_latent_workflow.json` - Latent尺寸生成工作流

## 更新日志

### v1.1.0
- 简化了南光空Latent图像尺寸节点界面
- 移除了不必要的参数，使界面更简洁
- 优化了代码结构

### v1.0.0
- 初始版本发布
- 包含两个核心节点
- 支持20+预设尺寸
- 完整的自定义尺寸功能

## 注意事项

1. 尺寸调整后，宽度和高度会自动调整为8的倍数以兼容大多数AI模型
2. 确保尺寸与使用的模型兼容

## 问题反馈

如有问题或建议，请提交Issue或联系作者。

## 许可证

MIT License